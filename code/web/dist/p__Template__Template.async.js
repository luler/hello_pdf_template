(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{tNbm:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return L});a("g9YV");var n=a("wCAj"),i=(a("5NDa"),a("5rEg")),c=(a("+L6B"),a("2/Rp")),l=(a("Pwec"),a("CtXQ")),o=(a("sPJy"),a("bE4q")),r=(a("P2fV"),a("NJEC")),d=(a("/zsF"),a("PArb")),u=(a("2qtc"),a("kLXV")),s=(a("+BJd"),a("mr32")),f=(a("BoS7"),a("Sdc0")),m=(a("miYZ"),a("tsqr")),p=a("p0pE"),h=a.n(p),g=a("2Taf"),E=a.n(g),v=a("vZ4D"),w=a.n(v),y=a("l4Ni"),k=a.n(y),b=a("ujKo"),C=a.n(b),_=a("MhPg"),x=a.n(_),T=a("C2bb"),I=a("KHju"),S=a("CiUL"),j=a("q1tI"),P=a.n(j),O=a("34ay");function B(e,t,a){return t=C()(t),k()(e,J()?Reflect.construct(t,a||[],C()(e).constructor):t.apply(e,a))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J=function(){return!!e})()}var L=function(e){function t(){var e;E()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return e=B(this,t,[].concat(n)),e.state={_loading:!1,_btn_loading:0,list:[],data:{nickname:""},param:{page:1,page_rows:10,search:"",is_approval_list:0},pagination:{showTotal:function(e){return"\u603b\u5171".concat(e,"\u6761\u6570\u636e")},onChange:function(t){e.setState({param:h()({},e.state.param,{page:t})},function(){e.fetch()})}}},e.columns=[{title:"ID",dataIndex:"id"},{title:"\u6a21\u677f\u7f16\u7801",dataIndex:"code"},{title:"\u6a21\u677f\u540d\u79f0",dataIndex:"title"},{title:"\u7b80\u8981\u63cf\u8ff0",dataIndex:"desc"},{title:"\u662f\u5426\u542f\u7528",render:function(t,a){return P.a.createElement("div",null,P.a.createElement(f["a"],{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528",onChange:function(t){Object(I["b"])("/api/editPdfTemplate",{id:a.id,is_use:t?1:0}).then(function(t){200===t.code&&(m["a"].success(t.message),e.fetch())})},defaultChecked:1===a.is_use}))}},{title:"\u6e32\u67d3\u65b9\u5411",render:function(e,t){return P.a.createElement("div",null,["",P.a.createElement(s["a"],{color:"#2db7f5"},"\u7eb5\u5411"),P.a.createElement(s["a"],null,"\u6a2a\u5411")][t.render_direction])}},{title:"\u4f7f\u7528\u6b21\u6570",dataIndex:"use_count"},{title:"\u6240\u5c5e\u7528\u6237",dataIndex:"username"},{title:"\u64cd\u4f5c",width:220,render:function(t,a){return P.a.createElement("div",null,P.a.createElement("a",{onClick:function(){1===Object(O["c"])().is_admin?window.location.href="/template/save/".concat(a.id):u["a"].confirm({title:"\u6ce8\u610f",content:"\u7f16\u8f91\u540e\u9700\u8981\u91cd\u65b0\u5ba1\u6838\u901a\u8fc7\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\uff0c\u60a8\u8fd8\u8981\u7ee7\u7eed\u7f16\u8f91\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){window.location.href="/template/save/".concat(a.id)}})}},"\u7f16\u8f91"),P.a.createElement(d["a"],{type:"vertical"}),P.a.createElement(r["a"],{title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(){Object(I["b"])("/api/delPdfTemplate",{ids:[a.id]}).then(function(){e.fetch()})}},P.a.createElement("a",{style:{color:"red"},href:"#"},"\u5220\u9664")))}}],e}return x()(t,e),w()(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"fetch",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({_loading:!!t,lock:!0},function(){Object(I["a"])("/api/getPdfTemplateList",e.state.param).then(function(t){e.setState(h()({},e.state,{list:t.info.list,_loading:!1,lock:!1,pagination:h()({},e.state.pagination,{total:t.info.total,current:t.info.page,pageSize:t.info.page_rows})}))})})}},{key:"render",value:function(){var e=this;return P.a.createElement("div",null,P.a.createElement(o["a"],{style:{padding:20}},P.a.createElement(o["a"].Item,null,P.a.createElement("a",{href:"/"},Object(S["a"])().site_title)),P.a.createElement(o["a"].Item,null,"\u6a21\u677f\u7ba1\u7406"),P.a.createElement(o["a"].Item,null,"\u6a21\u677f\u5217\u8868")),P.a.createElement("div",{style:{background:"white",padding:20}},P.a.createElement("div",null,P.a.createElement(c["a"],{style:{marginTop:20},type:"primary",onClick:function(){window.location.href="/template/save/0"}},P.a.createElement(l["a"],{type:"plus"}),"\u65b0\u589e"),P.a.createElement(c["a"],{style:{marginTop:20,marginLeft:10},onClick:function(){window.location.href="/backend/\u63a5\u53e3\u6587\u6863.docx"}},"\u63a5\u53e3\u6587\u6863"),P.a.createElement(i["a"].Search,{allowClear:!0,onSearch:function(t){e.setState({param:h()({},e.state.param,{page:1,search:t})},function(){e.fetch()})},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{maxWidth:300,float:"right",marginTop:20}})),P.a.createElement("div",{style:{margin:"30px 0"}},P.a.createElement(n["a"],{columns:this.columns,loading:this.state._loading,dataSource:this.state.list,rowKey:"id",pagination:this.state.pagination}))))}}])}(T["a"])}}]);